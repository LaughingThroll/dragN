{"version":3,"sources":["constant.js","components/Sidebar.js","components/FlowWrapper.js","api/db.js","components/App.js","index.js"],"names":["APPLICATION_REACT_FLOW","Sidebar","data","className","map","el","onDragStart","e","nodeType","dataTransfer","setData","effectAllowed","onDragStartHandler","lang","draggable","name","id","FlowWrapper","flowRef","useRef","useState","elementsFlow","setElementsFlow","reactFlowInstance","setReactFlowInstance","ref","elements","onConnect","params","addEdge","onLoad","onDragOver","preventDefault","dropEffect","onDrop","reactFlowBounds","current","getBoundingClientRect","type","getData","position","project","x","clientX","left","y","clientY","top","newElementFlow","Date","now","toString","label","find","onElementsRemove","elementsToRemove","removeElements","App","items","setItems","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+LAAaA,EAAyB,wB,OCwBvBC,EApBC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAMjB,OACE,uBAAOC,UAAU,2BAAjB,SACE,oBAAIA,UAAU,aAAd,SACGD,EAAKE,KAAI,SAAAC,GAER,OAAO,oBAAgBF,UAAU,mBAAmBG,YAAa,SAACC,GAAD,OAV9C,SAACA,EAAGC,GAC7BD,EAAEE,aAAaC,QAAQV,EAAwBQ,GAC/CD,EAAEE,aAAaE,cAAgB,OAQ+CC,CAAmBL,EAAGF,EAAGQ,OAAOC,WAAS,EAA1G,SACJT,EAAGU,MADUV,EAAGW,Y,QCqDdC,EA/DK,SAAC,GAAc,IAAZf,EAAW,EAAXA,KACfgB,EAAUC,iBAAO,MADS,EAGQC,mBAAS,IAHjB,mBAGzBC,EAHyB,KAGXC,EAHW,OAIkBF,mBAAS,MAJ3B,mBAIzBG,EAJyB,KAINC,EAJM,KAiDhC,OACE,qBAAKrB,UAAU,yBAAyBsB,IAAKP,EAA7C,SACE,cAAC,IAAD,CACEQ,SAAUL,EACVM,UA/CmB,SAACC,GACxBN,EAAgBO,YAAQD,EAAQP,KA+C5BS,OA7CoB,SAACP,GACzBC,EAAqBD,IA6CjBQ,WAtCoB,SAACxB,GACzBA,EAAEyB,iBACFzB,EAAEE,aAAawB,WAAa,QAqCxBC,OAlCgB,SAAC3B,GAAO,IAAD,EAC3BA,EAAEyB,iBAEF,IAAMG,EAAkBjB,EAAQkB,QAAQC,wBAClCC,EAAO/B,EAAEE,aAAa8B,QAAQvC,GAC9BwC,EAAWjB,EAAkBkB,QAAQ,CACzCC,EAAGnC,EAAEoC,QAAUR,EAAgBS,KAC/BC,EAAGtC,EAAEuC,QAAUX,EAAgBY,MAK3BC,EAAiB,CACrBhC,GAAIiC,KAAKC,MAAMC,WACfb,OACAE,WACAtC,KAAM,CACJkD,MACE,6CAAMlD,EAAKmD,MAAK,SAAAhD,GAAE,OAAIA,EAAGQ,OAASyB,YAAlC,aAAM,EAAmCvB,KAAzC,kBAKNO,EAAgB,GAAD,mBAAKD,GAAL,CAAmB2B,MAY9BM,iBA5CkB,SAACC,GACvBjC,EAAgBkC,YAAeD,EAAkBlC,UCDtCnB,EAlBF,CACX,CACEc,GAAI,GACJD,KAAM,QACNF,KAAM,MAER,CACEG,GAAI,GACJD,KAAM,uCACNF,KAAM,MAER,CACEG,GAAI,EACJD,KAAM,UACNF,KAAM,OCcK4C,EAnBH,WAAO,IAAD,EACUrC,mBAAS,IADnB,mBACTsC,EADS,KACFC,EADE,KAOhB,OAJAC,qBAAU,WACRD,EAASzD,KACR,IAGD,qBAAKC,UAAU,kBAAf,SACE,qBAAKA,UAAU,cAAf,SACE,eAAC,IAAD,WACE,cAAC,EAAD,CAASD,KAAMwD,IACf,cAAC,EAAD,CAAaxD,KAAMwD,Y,MCb7BG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2bf537d7.chunk.js","sourcesContent":["export const APPLICATION_REACT_FLOW = 'application/reactflow'","import React from 'react'\r\n\r\nimport { APPLICATION_REACT_FLOW } from './../constant'\r\n\r\nconst Sidebar = ({ data }) => {  \r\n  const onDragStartHandler = (e, nodeType) => {\r\n    e.dataTransfer.setData(APPLICATION_REACT_FLOW, nodeType)\r\n    e.dataTransfer.effectAllowed = 'move'\r\n  }\r\n\r\n  return (\r\n    <aside className=\"drag-n-drop__aside aside\">\r\n      <ul className=\"aside-list\">\r\n        {data.map(el => {\r\n          // TODO el.lang incorrect\r\n          return <li key={el.id} className=\"aside-list__item\" onDragStart={(e) => onDragStartHandler(e, el.lang)} draggable >\r\n            {el.name}\r\n          </li>\r\n        })}\r\n      </ul>\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React, { useState, useRef } from 'react'\r\nimport ReactFlow, { addEdge, removeElements } from 'react-flow-renderer'\r\n\r\nimport { APPLICATION_REACT_FLOW } from './../constant' \r\n\r\nconst FlowWrapper = ({ data }) => {\r\n  const flowRef = useRef(null)\r\n\r\n  const [elementsFlow, setElementsFlow] = useState([])\r\n  const [reactFlowInstance, setReactFlowInstance] = useState(null)\r\n\r\n  const onConnectHandler = (params) => {\r\n    setElementsFlow(addEdge(params, elementsFlow))\r\n  }\r\n  const onLoadFlowHandler = (reactFlowInstance) => {\r\n    setReactFlowInstance(reactFlowInstance)\r\n  }\r\n\r\n  const onRemoveHandler = (elementsToRemove) => {\r\n    setElementsFlow(removeElements(elementsToRemove, elementsFlow))\r\n  }\r\n\r\n  const onDragOverHandler = (e) => {\r\n    e.preventDefault()\r\n    e.dataTransfer.dropEffect = 'move'\r\n  }\r\n\r\n  const onDropHandler = (e) => {\r\n    e.preventDefault()\r\n\r\n    const reactFlowBounds = flowRef.current.getBoundingClientRect()\r\n    const type = e.dataTransfer.getData(APPLICATION_REACT_FLOW)\r\n    const position = reactFlowInstance.project({\r\n      x: e.clientX - reactFlowBounds.left,\r\n      y: e.clientY - reactFlowBounds.top\r\n    })\r\n\r\n    // TODO transfer real data normal from sidebar \r\n    // incorrect data.find(el => el.lang === type)?.name\r\n    const newElementFlow = {\r\n      id: Date.now().toString(),\r\n      type,\r\n      position,\r\n      data: {\r\n        label: (\r\n          <h1> {data.find(el => el.lang === type)?.name} World !!!</h1>\r\n        )\r\n      }\r\n    }\r\n\r\n    setElementsFlow([...elementsFlow, newElementFlow])\r\n\r\n  } \r\n\r\n  return (\r\n    <div className=\"drag-n-drop__flow flow\" ref={flowRef}>\r\n      <ReactFlow\r\n        elements={elementsFlow}\r\n        onConnect={onConnectHandler}\r\n        onLoad={onLoadFlowHandler}\r\n        onDragOver={onDragOverHandler}\r\n        onDrop={onDropHandler}\r\n        onElementsRemove={onRemoveHandler}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FlowWrapper\r\n","const data = [\r\n  {\r\n    id: 12,\r\n    name: 'HEllo',\r\n    lang: 'en'\r\n  },\r\n  {\r\n    id: 10,\r\n    name: 'Привет',\r\n    lang: 'ru'\r\n  },\r\n  {\r\n    id: 8,\r\n    name: 'Bonjour',\r\n    lang: 'fr'\r\n  }\r\n]\r\n\r\nexport default data","import React, { useState, useEffect } from 'react'\r\nimport { ReactFlowProvider } from 'react-flow-renderer'\r\n\r\nimport Sidebar from './Sidebar'\r\nimport FlowWrapper from './FlowWrapper'\r\n\r\nimport data from './../api/db'\r\n\r\n\r\nconst App = () => {\r\n  const [items, setItems] = useState([])\r\n\r\n  useEffect(() => {\r\n    setItems(data)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"drag-n-drop\">\r\n        <ReactFlowProvider>\r\n          <Sidebar data={items} />\r\n          <FlowWrapper data={items} />\r\n        </ReactFlowProvider>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport App from './components/App'\r\n\r\nimport './styles/styles.scss'\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}